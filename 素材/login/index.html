<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>抽奖</title>
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/index.css">
    <!-- 移动端适配 -->
    <script>
        var html = document.querySelector('html');
        changeRem();
        window.addEventListener('resize', changeRem);

        function changeRem() {
            var width = html.getBoundingClientRect().width;
            html.style.fontSize = width / 10 + 'px';
        }
    </script>
</head>

<body>
<div class="banner"><img src="image/banner1.jpg"/></div>
<div class="activity">
  <div class="activity-amin">
    <input type="text" class="wt1" id="text1" placeholder="请输入手机号"/>
    <input type="text" class="wt1 wt2" id="text2" placeholder="请输入验证码"/>
    <input id="btnSendCode" type="button" value="发送验证码" onClick="sendMessage()" class="wt1 wt3"/>
    <div class="prompt1"></div>
    <button class="wt1 wt4">确定</button>
  </div>
  
 <div class="activity-amin">
 <img src="image/png1.png" class="img1"/>
 <p>1.活动时间：2018年10月18日——2018年12月31日。<br/>
2.本次活动为福建某某公司专属特权活动，仅针对目标用户参与。<br/>
3.活动期间，福建某某公司专属客户每天可参与抽奖一次。<br/>
4.本次活动奖品为20元话费、50元话费、100元话费、300M省内加餐包、500M省内加餐包、1G省内加餐包。<br/>
5.每个用户当月获得话费和流量奖品将于次月到账。</p>
 </div>
 
</div>

 <script type="text/javascript" src="js/jquery-1.11.3.min.js"></script>
 <script type="text/javascript">
 /*判断手机号不为空和是否是正确的手机号，给验证码按钮添加样式*/

    $(".wt4").click(function(){
        var text1=$("#text1").val();
	    var text2=$("#text2").val();
		if(text1 !="" && text2 !="" && /^1[34578]\d{9}$/.test(text1)){
		     
			$(location).attr('href', 'ninegrid.html');
			return true;
		}else if(text1 =="" ){
			$(".prompt1").show();
			$(".prompt1").text("请输手机号码");
			return false;
	    }else if(text2 =="" ){
			$(".prompt1").show();
			$(".prompt1").text("请输入动态密码");
			return false;
	    }else{
			$(".prompt1").show();
			$(".prompt1").text("手机号码错误");
		    return false;
	    }
		
		})
		
/*短信验证码*/		
var InterValObj; //timer变量，控制时间
var count = 30; //间隔函数，1秒执行
var curCount;//当前剩余秒数
function sendMessage() {
curCount = count;
//设置button效果，开始计时
	     var  text1=$("#text1").val();
		if(text1 !=""&& /^1[34578]\d{9}$/.test(text1)){
			$(".wt3").css({"background-color":"#cecbc2","display":"block"});
			$(".prompt1").hide();
			$("#btnSendCode").attr("disabled", "true");
	        $("#btnSendCode").val( + curCount + "秒再获取");
	        InterValObj = window.setInterval(SetRemainTime, 1000); //启动计时器，1秒执行一次
			return true;
		}else if(text1 =="" ){
			$(".prompt1").show();
			$(".prompt1").text("请输手机号码");
			return false;
	    }else{
			$(".prompt1").show();
			$(".prompt1").text("手机号码错误");
		    return false;
	    }
	

}
//timer处理函数
function SetRemainTime() {
	if (curCount == 0) {                
		window.clearInterval(InterValObj);//停止计时器
		$("#btnSendCode").removeAttr("disabled");//启用按钮
		$(".wt3").css("background-color","#efc84d");
		$("#btnSendCode").val("点击获取");
		code = ""; //清除验证码。如果不清除，过时间后，输入收到的验证码依然有效    
	}
	else {
		curCount--;
		$("#btnSendCode").val( + curCount + "秒再获取");
	}
}
 </script>   
</body>
</html>